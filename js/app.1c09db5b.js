(function(e){function t(t){for(var n,a,u=t[0],c=t[1],i=t[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);g&&g(t);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==s[u]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},s={app:0},o=[];function u(e){return c.p+"js/"+({messenger:"messenger"}[e]||e)+"."+{messenger:"77e3b355"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={messenger:1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({messenger:"messenger"}[e]||e)+"."+{messenger:"eaadbbb4"}[e]+".css",s=c.p+n,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var i=o[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===n||d===s))return t()}var p=document.getElementsByTagName("style");for(u=0;u<p.length;u++){i=p[u],d=i.getAttribute("data-href");if(d===n||d===s)return t()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=t,g.onerror=function(t){var n=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[e],g.parentNode.removeChild(g),r(o)},g.href=s;var l=document.getElementsByTagName("head")[0];l.appendChild(g)})).then((function(){a[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=o);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=u(e);var p=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(g);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}s[e]=void 0}};var g=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/lenta-test/",c.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var g=d;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){},cd49:function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},s=[],o=(r("5c0b"),r("2877")),u={},c=Object(o["a"])(u,a,s,!1,null,null,null),i=c.exports,d=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f"));n["a"].use(d["a"]);var p=[{path:"/:dialogId?",name:"Messenger",props:function(e){return{dialogId:parseInt(e.params.dialogId,10)||void 0}},component:function(){return r.e("messenger").then(r.bind(null,"66bc"))}}],g=new d["a"]({mode:"history",base:"/lenta-test/",routes:p}),l=g,f=r("2f62");function m(){return{messagesCount:0,dialogs:[],messages:[]}}var h,v=r("2909"),b=(r("7db0"),r("99af"),{setDialogs:function(e,t){e.dialogs=t},updateLastMessage:function(e,t){var r=t.dialogId,a=t.message,s=e.dialogs.find((function(e){return e.id===r}));s&&n["a"].set(s,"lastMessage",a)},setMessagesCount:function(e,t){e.messagesCount=t},setMessages:function(e,t){e.messages=t},prependMessages:function(e,t){e.messages=[].concat(Object(v["a"])(t),Object(v["a"])(e.messages))},appendMessages:function(e,t){e.messages=[].concat(Object(v["a"])(e.messages),Object(v["a"])(t))}}),w=b,k={messagesCount:function(e){return e.messagesCount},dialogs:function(e){return e.dialogs},messages:function(e){return e.messages}},x=k,y=r("5530"),M=r("1da1"),j=r("d4ec"),O=r("bee2");r("96cf"),r("d81d");function D(e){return new Promise((function(t){setTimeout(t,e)}))}(function(e){e["lt"]="lt",e["gt"]="gt"})(h||(h={}));var R=[{id:1,subject:"one",created:Date.parse("01.01.2011 10:10:10"),lastMessage:{id:3,author:"racoon",created:Date.parse("01.01.2011 10:15:10"),text:"Ауриска́льпиум обыкнове́нный[1] (лат. Auriscalpium vulgare) — вид грибов, входящий в род Аурискальпиум (Auriscalpium) семейства Аурискальпиевые (Auriscalpiaceae). Сапротрофы; растут на опавших шишках хвойных деревьев."}},{id:2,subject:"two",created:Date.parse("02.20.2012 12:13:14")},{id:3,subject:"duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck duck",created:Date.parse("03.20.2012 10:13:14")},{id:4,subject:"racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon racoon",created:Date.parse("03.20.2015 15:13:14")},{id:5,subject:"five",created:Date.parse("05.05.2005 05:05:05")}],C=[{id:1,author:"duck",created:Date.parse("01.01.2011 10:10:10"),text:"«Подарок» (фр. Le Cadeau) — реди-мейд американского и французского художника, фотографа и кинематографиста Ман Рэя, близкого к дадаистам и сюрреалистам. "},{id:2,author:"racoon",created:Date.parse("01.01.2011 10:11:10"),text:"Создан в декабре 1921 года в Париже и является первым дадаистским произведением, сделанным им во Франции после переезда из США в том же году."},{id:3,author:"racoon",created:Date.parse("01.01.2011 10:15:10"),text:"Ауриска́льпиум обыкнове́нный[1] (лат. Auriscalpium vulgare) — вид грибов, входящий в род Аурискальпиум (Auriscalpium) семейства Аурискальпиевые (Auriscalpiaceae). Сапротрофы; растут на опавших шишках хвойных деревьев."},{id:4,author:"duck",created:Date.parse("01.01.2011 10:16:10"),text:"Вместе с Хансом (Жаном) Арпом, Максом Эрнстом, Массоном, Миро и Пикассо участвовал в коллективной выставке сюрреалистов в парижской галерее Пьер (1925). Снял несколько авангардистских фильмов (Морская звезда, по стихотворению Р.Десноса, и др.), а также снялся сам в знаменитом фильме Рене Клера «Антракт». Создал серию известнейших фотопортретов Эрика Сати, Джеймса Джойса, Гертруды Стайн, Жана Кокто, серию ню, для которой позировала молодая художница-сюрреалистка и одновременно подруга Ман Рея, Мерет Оппенгейм (1934). Вместе со своей ассистенткой Беренис Эббот открыл фотографию Эжена Атже, введя его в круг внимания сюрреалистов и более широкой публики. В 1934 году Ж. Т. Соби опубликовал альбом его фотографий, выполненных за последние 15 лет."},{id:5,author:"duck",created:Date.parse("01.01.2011 12:16:10"),text:"В 1940—1951 годах снова жил в США, преподавал живопись и фотографию. В 1946 году он женился на Жюльет Браунер с которой жил уже шесть лет. "}],P=function(){function e(){Object(j["a"])(this,e)}return Object(O["a"])(e,[{key:"getDialogs",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(1e3);case 2:return e.abrupt("return",Promise.resolve(R));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMessagesCount",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(1e3);case 2:return e.abrupt("return",Promise.resolve(100500));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMessages",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(1e3);case 2:if(!r){e.next=5;break}return n=r.operator===h.lt?-6e4:6e4,e.abrupt("return",Promise.resolve(C.map((function(e,t){return Object(y["a"])(Object(y["a"])({},e),{},{id:Math.random()*Math.pow(2,52),created:r.value+(t+1)*n})}))));case 5:return e.abrupt("return",Promise.resolve(C));case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"postMessage",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(1e3);case 2:return e.abrupt("return",{id:Math.random()*Math.pow(2,52),author:"duck",created:Date.now(),text:r});case 3:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()}]),e}();function A(e){return{fetchDialogs:function(t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,e.getDialogs();case 3:a=r.sent,n("setDialogs",a);case 5:case"end":return r.stop()}}),r)})))()},fetchMessagesCount:function(t){return Object(M["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.next=3,e.getMessagesCount();case 3:a=r.sent,n("setMessagesCount",a);case 5:case"end":return r.stop()}}),r)})))()},fetchMessages:function(t,r){return Object(M["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.next=3,e.getMessages(r);case 3:s=n.sent,a("setMessages",s),a("updateLastMessage",{dialogId:r,message:s[s.length-1]});case 6:case"end":return n.stop()}}),n)})))()},fetchUpMessages:function(t,r){return Object(M["a"])(regeneratorRuntime.mark((function n(){var a,s,o,u,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=t.commit,o=t.getters,u=o.messages,c=null===(a=u[0])||void 0===a?void 0:a.created,void 0===c){n.next=8;break}return n.next=6,e.getMessages(r,{operator:h.lt,value:c});case 6:i=n.sent,s("prependMessages",i);case 8:case"end":return n.stop()}}),n)})))()},fetchDownMessages:function(t,r){return Object(M["a"])(regeneratorRuntime.mark((function n(){var a,s,o,u,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=t.commit,o=t.getters,u=o.messages,c=null===(a=u[u.length-1])||void 0===a?void 0:a.created,void 0===c){n.next=9;break}return n.next=6,e.getMessages(r,{operator:h.gt,value:c});case 6:i=n.sent,s("appendMessages",i),s("updateLastMessage",{dialogId:r,message:i[i.length-1]});case 9:case"end":return n.stop()}}),n)})))()},postMessage:function(t,r){return Object(M["a"])(regeneratorRuntime.mark((function n(){var a,s,o,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,s=r.dialogId,o=r.message,n.next=4,e.postMessage(s,o);case 4:u=n.sent,a("appendMessages",[u]),a("updateLastMessage",{dialogId:s,message:u});case 7:case"end":return n.stop()}}),n)})))()}}}var _={namespaced:!0,state:m(),getters:x,actions:A(new P),mutations:w};function E(){return{}}n["a"].use(f["a"]);var I=new f["a"].Store({state:E(),modules:{messenger:_}});n["a"].config.productionTip=!1,new n["a"]({router:l,store:I,render:function(e){return e(i)}}).$mount("#app")}});
//# sourceMappingURL=app.1c09db5b.js.map